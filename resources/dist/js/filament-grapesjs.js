document.addEventListener("alpine:init",()=>{Alpine.data("grapesjs",({state:n,statePath:o,readOnly:p,tools:i,minHeight:l,container:t,uploadUrl:r})=>({instance:null,state:n,tools:i,init(){let g={},s=(this.state??"").split("<---!!! STYLE !!!--->");this.instance=grapesjs.init({height:l+"px",container:t||".filament-grapesjs .grapesjs-wrapper",showOffsets:!0,fromElement:!1,noticeOnUnload:!1,storageManager:!1,components:s[0],style:s[1],script:s[2],assetManager:{upload:r,uploadName:"files",autoAdd:!0},plugins:["grapesjs-tailwind","grapesjs-preset-webpage","gjs-blocks-basic","grapesjs-plugin-forms","grapesjs-navbar","grapesjs-custom-code"]}),this.instance.on("update",c=>{var e=this.instance.getHtml({cleanId:!0}),a=e.match(/<body\b[^>]*>([\s\S]*?)<\/body>/);a?e=a[1]:e=this.instance.getHtml(),this.state=e+"<---!!! STYLE !!!--->"+this.instance.getCss()+"<---!!! STYLE !!!--->"+this.instance.getJs()})}}))});
